<section id="posts" class="projectTimeline-section">
  <h2>Project Timeline</h2>
  <div class="projectTimeline">
    {% comment %}
      Sort project posts by date in reverse chronological order (newest first)
      This collection contains only project posts from the _project_posts/ directory
    {% endcomment %}
    {% assign sorted_posts = site.project_posts | sort: 'date' | reverse %}
    {% for post in sorted_posts %}
    <div class="projectTimeline-item" data-date="{{ post.date | date_to_xmlschema }}">
      <div class="projectTimeline-marker"></div>
      <div class="projectTimeline-content">
        <time datetime="{{ post.date | date_to_xmlschema }}">{{ post.date | date: "%B %d, %Y" }}</time>
        <h3><a href="{{ post.url | relative_url }}">{{ post.title }}</a></h3>
        <p>{{ post.description }}</p>
        {% if post.tags %}
        <div class="post-tags">
          {% for tag in post.tags %}
          <span class="tag">{{ tag }}</span>
          {% endfor %}
        </div>
        {% endif %}
      </div>
    </div>
    {% endfor %}
  </div>
</section>

<script>
// Project Timeline enhancement script
(function() {
  'use strict';
  
  // Add scroll animation for projectTimeline items
  const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -100px 0px'
  };
  
  const observer = new IntersectionObserver(function(entries) {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('projectTimeline-item-visible');
      }
    });
  }, observerOptions);
  
  // Observe all projectTimeline items
  document.addEventListener('DOMContentLoaded', function() {
    const projectTimelineItems = document.querySelectorAll('.projectTimeline-item');
    projectTimelineItems.forEach(item => {
      observer.observe(item);
    });
  });
})();
</script>
